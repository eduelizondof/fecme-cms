import{_ as U}from"./Input.vue_vue_type_script_setup_true_lang-DjygxYDF.js";import{_ as k}from"./Label.vue_vue_type_script_setup_true_lang-CJEhT3gk.js";import{_ as P}from"./Textarea.vue_vue_type_script_setup_true_lang-DfnVVfHk.js";import{d as j,k as z,c as m,f as E,i as C,b as t,w as n,e as v,t as x,u as s,a as o,o as i,r as A,F as T,p as I,C as q,z as B}from"./app-CsPl9vkU.js";import{_ as H}from"./DynamicStringList.vue_vue_type_script_setup_true_lang-BSkNlB1J.js";import{_ as N}from"./AppLogoIcon.vue_vue_type_script_setup_true_lang-CwrU5Ksu.js";import{a as R,b as G,c as J,d as L,_ as K}from"./SelectValue.vue_vue_type_script_setup_true_lang-DeyPnEqR.js";import{P as S}from"./plus-IjGSVuXj.js";import{T as X}from"./trash-2-Bq_mdN_5.js";import{F as M}from"./AppLayout.vue_vue_type_script_setup_true_lang-BofqAx52.js";import{L as O}from"./ImagePicker.vue_vue_type_script_setup_true_lang-DGrrUjc1.js";const Q={class:"space-y-4"},W={class:"flex items-center justify-between p-4 border rounded-lg bg-muted/30"},Y={class:"flex items-center gap-2"},Z=["checked"],ee={class:"text-xs text-muted-foreground"},te={key:1,class:"space-y-4 p-4 border rounded-lg"},se={class:"grid gap-4 sm:grid-cols-2"},oe={class:"space-y-2"},ae={class:"space-y-2"},le={class:"space-y-2"},et=j({__name:"CostEditor",props:{modelValue:{default:null},label:{default:"Información de costo"}},emits:["update:modelValue"],setup(p,{emit:V}){const F=p,$=V,e=z({get:()=>F.modelValue||{hasCost:!1,amount:0,currency:"MXN",description:""},set:f=>$("update:modelValue",f)}),h=(f,a)=>{$("update:modelValue",{...e.value,[f]:a})};return(f,a)=>(i(),m("div",Q,[p.label?(i(),E(s(k),{key:0,class:"text-base font-medium"},{default:n(()=>[v(x(p.label),1)]),_:1})):C("",!0),t("div",W,[t("div",null,[o(s(k),{for:"has_cost",class:"font-medium"},{default:n(()=>[...a[4]||(a[4]=[v("¿Tiene costo?",-1)])]),_:1}),a[5]||(a[5]=t("p",{class:"text-sm text-muted-foreground"},"Indica si este servicio/trámite tiene un costo asociado",-1))]),t("div",Y,[t("input",{id:"has_cost",type:"checkbox",checked:e.value.hasCost,onChange:a[0]||(a[0]=g=>h("hasCost",g.target.checked)),class:"h-4 w-4 rounded border-gray-300 text-primary focus:ring-primary"},null,40,Z),t("span",ee,x(e.value.hasCost?"Sí":"No"),1)])]),e.value.hasCost?(i(),m("div",te,[t("div",se,[t("div",oe,[o(s(k),{for:"amount"},{default:n(()=>[...a[6]||(a[6]=[v("Monto",-1)])]),_:1}),o(s(U),{id:"amount",type:"number",min:"0",step:"0.01","model-value":e.value.amount,"onUpdate:modelValue":a[1]||(a[1]=g=>h("amount",Number(g)||0)),placeholder:"0.00"},null,8,["model-value"])]),t("div",ae,[o(s(k),{for:"currency"},{default:n(()=>[...a[7]||(a[7]=[v("Moneda",-1)])]),_:1}),o(s(U),{id:"currency","model-value":e.value.currency,"onUpdate:modelValue":a[2]||(a[2]=g=>h("currency",g)),placeholder:"MXN"},null,8,["model-value"])])])])):C("",!0),t("div",le,[o(s(k),{for:"cost_description"},{default:n(()=>[...a[8]||(a[8]=[v("Descripción del costo",-1)])]),_:1}),o(s(P),{id:"cost_description","model-value":e.value.description,"onUpdate:modelValue":a[3]||(a[3]=g=>h("description",g)),rows:2,placeholder:"Describe qué incluye el costo (ej: Incluye registro, certificación y envío físico)"},null,8,["model-value"])])]))}}),re={class:"space-y-4"},de={class:"space-y-2"},tt=j({__name:"FeaturedEditor",props:{modelValue:{default:null},label:{default:"Características destacadas"},titlePlaceholder:{default:"¿Por qué elegirnos?"},itemsLabel:{default:"Elementos"}},emits:["update:modelValue"],setup(p,{emit:V}){const F=p,$=V,e=z({get:()=>F.modelValue||{title:"",items:[]},set:f=>$("update:modelValue",f)}),h=(f,a)=>{$("update:modelValue",{...e.value,[f]:a})};return(f,a)=>(i(),m("div",re,[p.label?(i(),E(s(k),{key:0,class:"text-base font-medium"},{default:n(()=>[v(x(p.label),1)]),_:1})):C("",!0),t("div",de,[o(s(k),{for:"featured_title",class:"text-sm"},{default:n(()=>[...a[2]||(a[2]=[v("Título de la sección",-1)])]),_:1}),o(s(U),{id:"featured_title","model-value":e.value.title,"onUpdate:modelValue":a[0]||(a[0]=g=>h("title",g)),placeholder:p.titlePlaceholder},null,8,["model-value","placeholder"])]),o(H,{"model-value":e.value.items,"onUpdate:modelValue":a[1]||(a[1]=g=>h("items",g)),label:p.itemsLabel,placeholder:"Agregar característica...","add-button-text":"Agregar"},null,8,["model-value","label"])]))}}),ne={class:"space-y-4"},ie={key:0,class:"flex items-center justify-between"},ue={class:"space-y-2"},ce={class:"flex items-center justify-between"},me={key:1,class:"text-sm text-muted-foreground py-4 text-center border border-dashed rounded-lg"},pe={key:2,class:"space-y-4"},ve={class:"flex items-start justify-between gap-2"},fe={class:"flex items-center gap-2 flex-1"},ge={class:"flex flex-col gap-0.5 opacity-50 group-hover:opacity-100"},_e=["disabled","onClick"],he=["disabled","onClick"],be={class:"text-xs text-muted-foreground w-6 text-center"},ye={class:"flex-1 space-y-2"},ke={class:"grid gap-4 sm:grid-cols-2"},xe={class:"space-y-2"},we={class:"flex items-center gap-2"},$e={class:"flex items-center gap-2"},Ce={class:"space-y-2"},Ve={key:0,class:"space-y-2"},Fe={key:0,class:"flex items-center gap-2 text-sm text-muted-foreground"},Ue={class:"truncate"},Ne={key:1,class:"text-xs text-destructive"},je={key:2,class:"text-xs text-muted-foreground"},ze={key:1,class:"space-y-2"},De={class:"text-xs text-muted-foreground"},st=j({__name:"FormatsEditor",props:{modelValue:{},label:{default:""},descriptionPlaceholder:{default:"Es necesario presentar los siguientes formatos debidamente llenados para iniciar la solicitud"}},emits:["update:modelValue"],setup(p,{emit:V}){const F=p,$=V,e=z({get:()=>F.modelValue||{description:"",items:[]},set:u=>$("update:modelValue",u)}),h=A({}),f=A({}),a=u=>{e.value={...e.value,description:u}},g=()=>{e.value={...e.value,items:[...e.value.items,{name:"",type:"file",url:""}]}},w=u=>{const l=[...e.value.items];l.splice(u,1),e.value={...e.value,items:l}},d=(u,l,_)=>{const r=[...e.value.items];r[u]={...r[u],[l]:_},e.value={...e.value,items:r}},b=async(u,l)=>{const _=u.target,r=_.files?.[0];if(!r)return;h.value[l]=!0,f.value[l]="";const y=new FormData;y.append("file",r);try{const D=await q.post("/cms/media",y,{headers:{"Content-Type":"multipart/form-data"}});d(l,"url",D.data.url),d(l,"name",r.name)}catch(D){f.value[l]=D.response?.data?.message||"Error al subir el archivo"}finally{h.value[l]=!1,_.value=""}},c=(u,l)=>{if(l<0||l>=e.value.items.length)return;const _=[...e.value.items],[r]=_.splice(u,1);_.splice(l,0,r),e.value={...e.value,items:_}};return(u,l)=>(i(),m("div",ne,[p.label?(i(),m("div",ie,[o(s(k),null,{default:n(()=>[v(x(p.label),1)]),_:1})])):C("",!0),t("div",ue,[o(s(k),{for:"formats-description"},{default:n(()=>[...l[0]||(l[0]=[v("Descripción de la sección",-1)])]),_:1}),o(s(P),{id:"formats-description","model-value":e.value.description,"onUpdate:modelValue":a,placeholder:p.descriptionPlaceholder,rows:2},null,8,["model-value","placeholder"])]),t("div",ce,[o(s(k),null,{default:n(()=>[...l[1]||(l[1]=[v("Formatos",-1)])]),_:1}),o(s(N),{type:"button",variant:"outline",size:"sm",onClick:g,class:"gap-1"},{default:n(()=>[o(s(S),{class:"h-4 w-4"}),l[2]||(l[2]=v(" Agregar formato ",-1))]),_:1})]),e.value.items.length===0?(i(),m("div",me,' No hay formatos. Haz clic en "Agregar formato" para comenzar. ')):(i(),m("div",pe,[(i(!0),m(T,null,I(e.value.items,(_,r)=>(i(),m("div",{key:r,class:"p-4 border rounded-lg space-y-3 group"},[t("div",ve,[t("div",fe,[t("div",ge,[t("button",{type:"button",class:"p-0.5 hover:bg-muted rounded disabled:opacity-30",disabled:r===0,onClick:y=>c(r,r-1)},[...l[3]||(l[3]=[t("svg",{class:"h-3 w-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 15l7-7 7 7"})],-1)])],8,_e),t("button",{type:"button",class:"p-0.5 hover:bg-muted rounded disabled:opacity-30",disabled:r===e.value.items.length-1,onClick:y=>c(r,r+1)},[...l[4]||(l[4]=[t("svg",{class:"h-3 w-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"})],-1)])],8,he)]),t("span",be,x(r+1),1),t("div",ye,[o(s(U),{"model-value":_.name,"onUpdate:modelValue":y=>d(r,"name",y),placeholder:"Nombre del formato (ej: Formato de solicitud)",class:"flex-1"},null,8,["model-value","onUpdate:modelValue"])])]),o(s(N),{type:"button",variant:"ghost",size:"icon",class:"h-8 w-8 text-muted-foreground hover:text-destructive",onClick:y=>w(r)},{default:n(()=>[o(s(X),{class:"h-4 w-4"})]),_:1},8,["onClick"])]),t("div",ke,[t("div",xe,[o(s(k),null,{default:n(()=>[...l[5]||(l[5]=[v("Tipo",-1)])]),_:1}),o(s(K),{"model-value":_.type,"onUpdate:modelValue":y=>d(r,"type",y)},{default:n(()=>[o(s(R),null,{default:n(()=>[o(s(G))]),_:1}),o(s(J),null,{default:n(()=>[o(s(L),{value:"file"},{default:n(()=>[t("div",we,[o(s(M),{class:"h-4 w-4"}),l[6]||(l[6]=v(" Archivo local ",-1))])]),_:1}),o(s(L),{value:"link"},{default:n(()=>[t("div",$e,[o(s(O),{class:"h-4 w-4"}),l[7]||(l[7]=v(" Link externo ",-1))])]),_:1})]),_:1})]),_:1},8,["model-value","onUpdate:modelValue"])]),t("div",Ce,[o(s(k),null,{default:n(()=>[v(x(_.type==="file"?"Archivo":"URL"),1)]),_:2},1024),_.type==="file"?(i(),m("div",Ve,[o(s(U),{type:"file",disabled:h.value[r],onChange:y=>b(y,r),accept:".pdf,.doc,.docx,.xls,.xlsx",class:"cursor-pointer"},null,8,["disabled","onChange"]),_.url?(i(),m("div",Fe,[o(s(M),{class:"h-4 w-4"}),t("span",Ue,x(_.url),1)])):C("",!0),f.value[r]?(i(),m("p",Ne,x(f.value[r]),1)):C("",!0),h.value[r]?(i(),m("p",je," Subiendo archivo... ")):C("",!0)])):(i(),m("div",ze,[o(s(U),{"model-value":_.url,"onUpdate:modelValue":y=>d(r,"url",y),placeholder:"https://drive.google.com/..."},null,8,["model-value","onUpdate:modelValue"])]))])])]))),128))])),t("p",De,x(e.value.items.length)+" formato(s) ",1)]))}}),Ee={class:"space-y-4"},Ae={class:"flex items-center justify-between"},Be={key:0,class:"text-sm text-muted-foreground py-4 text-center border border-dashed rounded-lg"},Le={key:1,class:"space-y-2"},Me={class:"flex flex-col gap-0.5 opacity-50 group-hover:opacity-100"},Pe=["disabled","onClick"],Te=["disabled","onClick"],Ie={class:"flex items-center gap-2"},Se=["checked","onChange"],Xe={class:"text-xs text-muted-foreground"},ot=j({__name:"PricingFeaturesEditor",props:{modelValue:{default:()=>[]},label:{default:"Características del precio"}},emits:["update:modelValue"],setup(p,{emit:V}){const F=p,$=V,e=z({get:()=>F.modelValue||[],set:w=>$("update:modelValue",w)}),h=()=>{e.value=[...e.value,{text:"",active:!0}]},f=w=>{const d=[...e.value];d.splice(w,1),e.value=d},a=(w,d,b)=>{const c=[...e.value];c[w]={...c[w],[d]:b},e.value=c},g=(w,d)=>{if(d<0||d>=e.value.length)return;const b=[...e.value],[c]=b.splice(w,1);b.splice(d,0,c),e.value=b};return(w,d)=>(i(),m("div",Ee,[t("div",Ae,[p.label?(i(),E(s(k),{key:0,class:"text-base font-medium"},{default:n(()=>[v(x(p.label),1)]),_:1})):C("",!0),o(s(N),{type:"button",variant:"outline",size:"sm",onClick:h,class:"gap-1"},{default:n(()=>[o(s(S),{class:"h-4 w-4"}),d[0]||(d[0]=v(" Agregar ",-1))]),_:1})]),d[3]||(d[3]=t("p",{class:"text-sm text-muted-foreground"}," Las características activas se mostrarán con un check, las inactivas con una X. ",-1)),e.value.length===0?(i(),m("div",Be,' No hay características. Haz clic en "Agregar" para comenzar. ')):(i(),m("div",Le,[(i(!0),m(T,null,I(e.value,(b,c)=>(i(),m("div",{key:c,class:B(["flex items-center gap-3 p-3 border rounded-lg group",b.active?"bg-green-50 dark:bg-green-950/20 border-green-200 dark:border-green-900":"bg-red-50 dark:bg-red-950/20 border-red-200 dark:border-red-900"])},[t("div",Me,[t("button",{type:"button",class:"p-0.5 hover:bg-muted rounded disabled:opacity-30",disabled:c===0,onClick:u=>g(c,c-1)},[...d[1]||(d[1]=[t("svg",{class:"h-3 w-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 15l7-7 7 7"})],-1)])],8,Pe),t("button",{type:"button",class:"p-0.5 hover:bg-muted rounded disabled:opacity-30",disabled:c===e.value.length-1,onClick:u=>g(c,c+1)},[...d[2]||(d[2]=[t("svg",{class:"h-3 w-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"})],-1)])],8,Te)]),t("div",Ie,[t("input",{type:"checkbox",checked:b.active,onChange:u=>a(c,"active",u.target.checked),class:"h-4 w-4 rounded border-gray-300 text-primary focus:ring-primary"},null,40,Se),t("span",{class:B(["text-xs",b.active?"text-green-600":"text-red-600"])},x(b.active?"Incluido":"No incluido"),3)]),o(s(U),{"model-value":b.text,"onUpdate:modelValue":u=>a(c,"text",u),placeholder:"Describe la característica...",class:"flex-1"},null,8,["model-value","onUpdate:modelValue"]),o(s(N),{type:"button",variant:"ghost",size:"icon",class:"h-8 w-8 text-muted-foreground hover:text-destructive",onClick:u=>f(c)},{default:n(()=>[o(s(X),{class:"h-4 w-4"})]),_:1},8,["onClick"])],2))),128))])),t("p",Xe,x(e.value.length)+" característica(s) ",1)]))}});export{tt as _,et as a,st as b,ot as c};
