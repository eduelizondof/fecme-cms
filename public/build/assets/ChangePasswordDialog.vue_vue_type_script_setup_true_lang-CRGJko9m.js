import{c as V}from"./createLucideIcon-BY-dNSCg.js";import{d as g,s as k,A as x,f as N,w as r,a as o,u as e,b as c,e as t,t as l,c as f,i as _,v as I,o as u}from"./app-gQned_zM.js";import{_ as w}from"./AppLogoIcon.vue_vue_type_script_setup_true_lang-CXtkEnXb.js";import{a as B,b as h,c as E,_ as K}from"./DialogTitle.vue_vue_type_script_setup_true_lang-B8VRVNJC.js";import{_ as M}from"./DialogDescription.vue_vue_type_script_setup_true_lang-OEpRObPq.js";import{_ as S}from"./DialogFooter.vue_vue_type_script_setup_true_lang-f9kYMblo.js";import{_ as y}from"./Input.vue_vue_type_script_setup_true_lang-R73c6OTp.js";import{_ as b}from"./Label.vue_vue_type_script_setup_true_lang-IQWv4nmK.js";/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j=V("KeyRoundIcon",[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]]),U={class:"space-y-2"},q={key:0,class:"text-sm text-destructive"},A={class:"space-y-2"},D={key:0,class:"text-sm text-destructive"},H=g({__name:"ChangePasswordDialog",props:{open:{type:Boolean},userId:{},userName:{}},emits:["update:open"],setup(i,{emit:C}){const m=i,v=C,s=k({password:"",password_confirmation:""}),p=n=>{v("update:open",n),n||(s.reset(),s.clearErrors())},$=()=>{m.userId&&s.post(`/cms/users/${m.userId}/change-password`,{onSuccess:()=>{p(!1)}})};return x(()=>m.open,n=>{n||(s.reset(),s.clearErrors())}),(n,a)=>(u(),N(e(K),{open:i.open,"onUpdate:open":p},{default:r(()=>[o(e(B),null,{default:r(()=>[o(e(h),null,{default:r(()=>[o(e(E),null,{default:r(()=>[...a[3]||(a[3]=[t("Cambiar contraseña",-1)])]),_:1}),o(e(M),null,{default:r(()=>[t(l(i.userName?`Cambiar la contraseña de ${i.userName}`:"Ingresa la nueva contraseña"),1)]),_:1})]),_:1}),c("form",{onSubmit:I($,["prevent"]),class:"space-y-4"},[c("div",U,[o(e(b),{for:"password"},{default:r(()=>[...a[4]||(a[4]=[t("Nueva contraseña *",-1)])]),_:1}),o(e(y),{id:"password",modelValue:e(s).password,"onUpdate:modelValue":a[0]||(a[0]=d=>e(s).password=d),type:"password",placeholder:"Mínimo 8 caracteres",required:""},null,8,["modelValue"]),e(s).errors.password?(u(),f("p",q,l(e(s).errors.password),1)):_("",!0)]),c("div",A,[o(e(b),{for:"password_confirmation"},{default:r(()=>[...a[5]||(a[5]=[t("Confirmar contraseña *",-1)])]),_:1}),o(e(y),{id:"password_confirmation",modelValue:e(s).password_confirmation,"onUpdate:modelValue":a[1]||(a[1]=d=>e(s).password_confirmation=d),type:"password",placeholder:"Confirma la nueva contraseña",required:""},null,8,["modelValue"]),e(s).errors.password_confirmation?(u(),f("p",D,l(e(s).errors.password_confirmation),1)):_("",!0)]),o(e(S),null,{default:r(()=>[o(e(w),{type:"button",variant:"outline",onClick:a[2]||(a[2]=d=>p(!1)),disabled:e(s).processing},{default:r(()=>[...a[6]||(a[6]=[t(" Cancelar ",-1)])]),_:1},8,["disabled"]),o(e(w),{type:"submit",disabled:e(s).processing},{default:r(()=>[t(l(e(s).processing?"Guardando...":"Cambiar contraseña"),1)]),_:1},8,["disabled"])]),_:1})],32)]),_:1})]),_:1},8,["open"]))}});export{j as K,H as _};
