import{d as x,s as k,y as C,a as c,e as o,u as l,h as E,w as s,b as u,v as M,f as d,t as S,F as D,o as A}from"./app-ytOmZ7ir.js";import{_ as F,a as N,b as P,c as R,d as j,e as B,f as G}from"./SocialLinksEditor.vue_vue_type_script_setup_true_lang-BHYoUypo.js";import{_ as I,a as T}from"./ProgramsEditor.vue_vue_type_script_setup_true_lang-hv3TNd1b.js";import{_ as z}from"./GalleryEditor.vue_vue_type_script_setup_true_lang-D1_HfdT6.js";import{_ as b}from"./ImagePicker.vue_vue_type_script_setup_true_lang-t0AwYW61.js";import{_ as L}from"./LocationEditor.vue_vue_type_script_setup_true_lang-FubdyluU.js";import{_ as q}from"./TagsInput.vue_vue_type_script_setup_true_lang-CJx6TOO3.js";import{_ as v}from"./AppLogoIcon.vue_vue_type_script_setup_true_lang-DkKiyJ8y.js";import{_ as n,a as r}from"./CardContent.vue_vue_type_script_setup_true_lang-DJjHj1yR.js";import{_ as m,a as f}from"./CardTitle.vue_vue_type_script_setup_true_lang-BxrB3YU1.js";import{_}from"./Input.vue_vue_type_script_setup_true_lang-Cg5KoNb9.js";import{_ as p}from"./Label.vue_vue_type_script_setup_true_lang-BGDvcl4_.js";import{_ as y}from"./Textarea.vue_vue_type_script_setup_true_lang--70_c2A7.js";import{_ as O}from"./AppLayout.vue_vue_type_script_setup_true_lang-Blr5NyNp.js";import"./DynamicStringList.vue_vue_type_script_setup_true_lang-BoOXUDiY.js";import"./plus-DlGHL1SM.js";import"./createLucideIcon-L2cLuIK_.js";import"./trash-2-BFRoFMyE.js";import"./SelectValue.vue_vue_type_script_setup_true_lang-Cjp7p_CV.js";import"./VisuallyHidden-D12jqtLz.js";import"./useForwardExpose-UKO2NkdT.js";import"./RovingFocusGroup-Du9caoW0.js";import"./chevron-down-D1kN_C_R.js";import"./check-ChEg2bhV.js";import"./nullish-B9QBIykp.js";import"./useFormControl-DWNA9kvS.js";import"./DialogTitle.vue_vue_type_script_setup_true_lang-CO8LmZBl.js";import"./DialogTrigger.vue_vue_type_script_setup_true_lang-D2Z3g0sk.js";import"./RovingFocusItem-BkC36SEK.js";import"./upload-D4eXmn6g.js";import"./index-C9iDn918.js";import"./useArrowNavigation-C6Y-ieo6.js";import"./index-DPfDGp1o.js";const W={class:"flex h-full flex-1 flex-col gap-4 p-4"},H={class:"grid gap-6 lg:grid-cols-3"},J={class:"lg:col-span-2 space-y-6"},K={class:"grid gap-4 sm:grid-cols-2"},Q={class:"space-y-2"},X={class:"space-y-2"},Y={class:"space-y-2"},Z={class:"space-y-2"},h={class:"grid gap-4 sm:grid-cols-2"},ll={class:"space-y-2"},el={class:"space-y-2"},ol={class:"grid gap-4 sm:grid-cols-2"},sl={class:"space-y-2"},al={class:"space-y-2"},tl={class:"space-y-6"},dl={class:"flex items-center gap-2"},il=["checked"],ul={class:"space-y-2"},nl={class:"space-y-2"},rl={class:"space-y-2"},ml={class:"space-y-2"},fl={class:"flex justify-end gap-4"},Hl=x({__name:"Edit",props:{school:{}},setup(g){const i=g,a=k({name:i.school.name||"",slug:i.school.slug||"",logo:i.school.logo||"",feature_image:i.school.feature_image||"",programs_list:i.school.programs_list||[],location:i.school.location||null,member_since:i.school.member_since||"",rating:i.school.rating||0,total_reviews:i.school.total_reviews||0,description:i.school.description||"",short_description:i.school.short_description||"",website:i.school.website||"",email:i.school.email||"",phone:i.school.phone||"",whatsapp:i.school.whatsapp||"",social_links:i.school.social_links||[],certifications:i.school.certifications||[],features:i.school.features||[],responsible:i.school.responsible||null,about:i.school.about||null,programs:i.school.programs||[],facilities:i.school.facilities||null,awards:i.school.awards||[],gallery:i.school.gallery||[],reviews:i.school.reviews||[],is_active:i.school.is_active??!0,sort_order:i.school.sort_order||0}),w=V=>V.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,"");C(()=>a.name,V=>{V&&(a.slug=w(V))});const $=()=>{a.put(`/cms/schools/${i.school.id}`)},U=[{title:"Dashboard",href:"/dashboard"},{title:"Escuelas",href:"/cms/schools"},{title:"Editar",href:`/cms/schools/${i.school.id}/edit`}];return(V,e)=>(A(),c(D,null,[o(l(E),{title:`Editar: ${g.school.name} - CMS`},null,8,["title"]),o(O,{breadcrumbs:U},{default:s(()=>[u("div",W,[e[59]||(e[59]=u("div",{class:"flex items-center justify-between"},[u("h2",{class:"text-2xl font-bold tracking-tight"},"Editar Escuela")],-1)),u("form",{onSubmit:M($,["prevent"]),class:"space-y-6"},[u("div",H,[u("div",J,[o(l(n),null,{default:s(()=>[o(l(m),null,{default:s(()=>[o(l(f),null,{default:s(()=>[...e[28]||(e[28]=[d("Información básica",-1)])]),_:1})]),_:1}),o(l(r),{class:"space-y-4"},{default:s(()=>[u("div",K,[u("div",Q,[o(l(p),{for:"name"},{default:s(()=>[...e[29]||(e[29]=[d("Nombre *",-1)])]),_:1}),o(l(_),{id:"name",modelValue:l(a).name,"onUpdate:modelValue":e[0]||(e[0]=t=>l(a).name=t)},null,8,["modelValue"])]),u("div",X,[o(l(p),{for:"slug"},{default:s(()=>[...e[30]||(e[30]=[d("Slug",-1)])]),_:1}),o(l(_),{id:"slug",modelValue:l(a).slug,"onUpdate:modelValue":e[1]||(e[1]=t=>l(a).slug=t)},null,8,["modelValue"])])]),u("div",Y,[o(l(p),{for:"short_description"},{default:s(()=>[...e[31]||(e[31]=[d("Descripción corta",-1)])]),_:1}),o(l(y),{id:"short_description",modelValue:l(a).short_description,"onUpdate:modelValue":e[2]||(e[2]=t=>l(a).short_description=t),rows:2},null,8,["modelValue"])]),u("div",Z,[o(l(p),{for:"description"},{default:s(()=>[...e[32]||(e[32]=[d("Descripción",-1)])]),_:1}),o(l(y),{id:"description",modelValue:l(a).description,"onUpdate:modelValue":e[3]||(e[3]=t=>l(a).description=t),rows:4},null,8,["modelValue"])]),o(q,{modelValue:l(a).programs_list,"onUpdate:modelValue":e[4]||(e[4]=t=>l(a).programs_list=t),label:"Programas que ofrece",placeholder:"Agregar programa..."},null,8,["modelValue"])]),_:1})]),_:1}),o(l(n),null,{default:s(()=>[o(l(m),null,{default:s(()=>[o(l(f),null,{default:s(()=>[...e[33]||(e[33]=[d("Contacto",-1)])]),_:1})]),_:1}),o(l(r),{class:"space-y-4"},{default:s(()=>[u("div",h,[u("div",ll,[o(l(p),{for:"email"},{default:s(()=>[...e[34]||(e[34]=[d("Email",-1)])]),_:1}),o(l(_),{id:"email",modelValue:l(a).email,"onUpdate:modelValue":e[5]||(e[5]=t=>l(a).email=t),type:"email"},null,8,["modelValue"])]),u("div",el,[o(l(p),{for:"phone"},{default:s(()=>[...e[35]||(e[35]=[d("Teléfono",-1)])]),_:1}),o(l(_),{id:"phone",modelValue:l(a).phone,"onUpdate:modelValue":e[6]||(e[6]=t=>l(a).phone=t)},null,8,["modelValue"])])]),u("div",ol,[u("div",sl,[o(l(p),{for:"whatsapp"},{default:s(()=>[...e[36]||(e[36]=[d("WhatsApp",-1)])]),_:1}),o(l(_),{id:"whatsapp",modelValue:l(a).whatsapp,"onUpdate:modelValue":e[7]||(e[7]=t=>l(a).whatsapp=t)},null,8,["modelValue"])]),u("div",al,[o(l(p),{for:"website"},{default:s(()=>[...e[37]||(e[37]=[d("Sitio web",-1)])]),_:1}),o(l(_),{id:"website",modelValue:l(a).website,"onUpdate:modelValue":e[8]||(e[8]=t=>l(a).website=t)},null,8,["modelValue"])])])]),_:1})]),_:1}),o(l(n),null,{default:s(()=>[o(l(m),null,{default:s(()=>[o(l(f),null,{default:s(()=>[...e[38]||(e[38]=[d("Ubicación",-1)])]),_:1})]),_:1}),o(l(r),null,{default:s(()=>[o(L,{modelValue:l(a).location,"onUpdate:modelValue":e[9]||(e[9]=t=>l(a).location=t),label:""},null,8,["modelValue"])]),_:1})]),_:1}),o(l(n),null,{default:s(()=>[o(l(m),null,{default:s(()=>[o(l(f),null,{default:s(()=>[...e[39]||(e[39]=[d("Acerca de la escuela",-1)])]),_:1})]),_:1}),o(l(r),null,{default:s(()=>[o(F,{modelValue:l(a).about,"onUpdate:modelValue":e[10]||(e[10]=t=>l(a).about=t),label:""},null,8,["modelValue"])]),_:1})]),_:1}),o(l(n),null,{default:s(()=>[o(l(m),null,{default:s(()=>[o(l(f),null,{default:s(()=>[...e[40]||(e[40]=[d("Responsable",-1)])]),_:1})]),_:1}),o(l(r),null,{default:s(()=>[o(N,{modelValue:l(a).responsible,"onUpdate:modelValue":e[11]||(e[11]=t=>l(a).responsible=t),label:""},null,8,["modelValue"])]),_:1})]),_:1}),o(l(n),null,{default:s(()=>[o(l(m),null,{default:s(()=>[o(l(f),null,{default:s(()=>[...e[41]||(e[41]=[d("Programas detallados",-1)])]),_:1})]),_:1}),o(l(r),null,{default:s(()=>[o(I,{modelValue:l(a).programs,"onUpdate:modelValue":e[12]||(e[12]=t=>l(a).programs=t),label:""},null,8,["modelValue"])]),_:1})]),_:1}),o(l(n),null,{default:s(()=>[o(l(m),null,{default:s(()=>[o(l(f),null,{default:s(()=>[...e[42]||(e[42]=[d("Instalaciones",-1)])]),_:1})]),_:1}),o(l(r),null,{default:s(()=>[o(T,{modelValue:l(a).facilities,"onUpdate:modelValue":e[13]||(e[13]=t=>l(a).facilities=t),label:""},null,8,["modelValue"])]),_:1})]),_:1}),o(l(n),null,{default:s(()=>[o(l(m),null,{default:s(()=>[o(l(f),null,{default:s(()=>[...e[43]||(e[43]=[d("Certificaciones",-1)])]),_:1})]),_:1}),o(l(r),null,{default:s(()=>[o(P,{modelValue:l(a).certifications,"onUpdate:modelValue":e[14]||(e[14]=t=>l(a).certifications=t),label:""},null,8,["modelValue"])]),_:1})]),_:1}),o(l(n),null,{default:s(()=>[o(l(m),null,{default:s(()=>[o(l(f),null,{default:s(()=>[...e[44]||(e[44]=[d("Características",-1)])]),_:1})]),_:1}),o(l(r),null,{default:s(()=>[o(R,{modelValue:l(a).features,"onUpdate:modelValue":e[15]||(e[15]=t=>l(a).features=t),label:""},null,8,["modelValue"])]),_:1})]),_:1}),o(l(n),null,{default:s(()=>[o(l(m),null,{default:s(()=>[o(l(f),null,{default:s(()=>[...e[45]||(e[45]=[d("Premios",-1)])]),_:1})]),_:1}),o(l(r),null,{default:s(()=>[o(j,{modelValue:l(a).awards,"onUpdate:modelValue":e[16]||(e[16]=t=>l(a).awards=t),label:""},null,8,["modelValue"])]),_:1})]),_:1}),o(l(n),null,{default:s(()=>[o(l(m),null,{default:s(()=>[o(l(f),null,{default:s(()=>[...e[46]||(e[46]=[d("Galería",-1)])]),_:1})]),_:1}),o(l(r),null,{default:s(()=>[o(z,{modelValue:l(a).gallery,"onUpdate:modelValue":e[17]||(e[17]=t=>l(a).gallery=t),label:""},null,8,["modelValue"])]),_:1})]),_:1}),o(l(n),null,{default:s(()=>[o(l(m),null,{default:s(()=>[o(l(f),null,{default:s(()=>[...e[47]||(e[47]=[d("Reseñas",-1)])]),_:1})]),_:1}),o(l(r),null,{default:s(()=>[o(B,{modelValue:l(a).reviews,"onUpdate:modelValue":e[18]||(e[18]=t=>l(a).reviews=t),label:""},null,8,["modelValue"])]),_:1})]),_:1})]),u("div",tl,[o(l(n),null,{default:s(()=>[o(l(m),null,{default:s(()=>[o(l(f),null,{default:s(()=>[...e[48]||(e[48]=[d("Publicación",-1)])]),_:1})]),_:1}),o(l(r),{class:"space-y-4"},{default:s(()=>[u("div",dl,[u("input",{id:"is_active",type:"checkbox",checked:l(a).is_active,onChange:e[19]||(e[19]=t=>l(a).is_active=t.target.checked),class:"h-4 w-4 rounded border-gray-300 text-primary focus:ring-primary"},null,40,il),o(l(p),{for:"is_active"},{default:s(()=>[...e[49]||(e[49]=[d("Activo",-1)])]),_:1})]),u("div",ul,[o(l(p),{for:"sort_order"},{default:s(()=>[...e[50]||(e[50]=[d("Orden",-1)])]),_:1}),o(l(_),{id:"sort_order",modelValue:l(a).sort_order,"onUpdate:modelValue":e[20]||(e[20]=t=>l(a).sort_order=t),modelModifiers:{number:!0},type:"number"},null,8,["modelValue"])]),u("div",nl,[o(l(p),{for:"member_since"},{default:s(()=>[...e[51]||(e[51]=[d("Miembro desde",-1)])]),_:1}),o(l(_),{id:"member_since",modelValue:l(a).member_since,"onUpdate:modelValue":e[21]||(e[21]=t=>l(a).member_since=t)},null,8,["modelValue"])])]),_:1})]),_:1}),o(l(n),null,{default:s(()=>[o(l(m),null,{default:s(()=>[o(l(f),null,{default:s(()=>[...e[52]||(e[52]=[d("Calificación",-1)])]),_:1})]),_:1}),o(l(r),{class:"space-y-4"},{default:s(()=>[u("div",rl,[o(l(p),{for:"rating"},{default:s(()=>[...e[53]||(e[53]=[d("Rating (0-5)",-1)])]),_:1}),o(l(_),{id:"rating",modelValue:l(a).rating,"onUpdate:modelValue":e[22]||(e[22]=t=>l(a).rating=t),modelModifiers:{number:!0},type:"number",min:"0",max:"5",step:"0.1"},null,8,["modelValue"])]),u("div",ml,[o(l(p),{for:"total_reviews"},{default:s(()=>[...e[54]||(e[54]=[d("Total reseñas",-1)])]),_:1}),o(l(_),{id:"total_reviews",modelValue:l(a).total_reviews,"onUpdate:modelValue":e[23]||(e[23]=t=>l(a).total_reviews=t),modelModifiers:{number:!0},type:"number",min:"0"},null,8,["modelValue"])])]),_:1})]),_:1}),o(l(n),null,{default:s(()=>[o(l(m),null,{default:s(()=>[o(l(f),null,{default:s(()=>[...e[55]||(e[55]=[d("Logo",-1)])]),_:1})]),_:1}),o(l(r),null,{default:s(()=>[o(b,{modelValue:l(a).logo,"onUpdate:modelValue":e[24]||(e[24]=t=>l(a).logo=t),label:""},null,8,["modelValue"])]),_:1})]),_:1}),o(l(n),null,{default:s(()=>[o(l(m),null,{default:s(()=>[o(l(f),null,{default:s(()=>[...e[56]||(e[56]=[d("Imagen destacada",-1)])]),_:1})]),_:1}),o(l(r),null,{default:s(()=>[o(b,{modelValue:l(a).feature_image,"onUpdate:modelValue":e[25]||(e[25]=t=>l(a).feature_image=t),label:""},null,8,["modelValue"])]),_:1})]),_:1}),o(l(n),null,{default:s(()=>[o(l(m),null,{default:s(()=>[o(l(f),null,{default:s(()=>[...e[57]||(e[57]=[d("Redes sociales",-1)])]),_:1})]),_:1}),o(l(r),null,{default:s(()=>[o(G,{modelValue:l(a).social_links,"onUpdate:modelValue":e[26]||(e[26]=t=>l(a).social_links=t),label:""},null,8,["modelValue"])]),_:1})]),_:1})])]),u("div",fl,[o(l(v),{type:"button",variant:"outline",onClick:e[27]||(e[27]=t=>V.$inertia.visit("/cms/schools"))},{default:s(()=>[...e[58]||(e[58]=[d(" Cancelar ",-1)])]),_:1}),o(l(v),{type:"submit",disabled:l(a).processing},{default:s(()=>[d(S(l(a).processing?"Guardando...":"Guardar cambios"),1)]),_:1},8,["disabled"])])],32)])]),_:1})],64))}});export{Hl as default};
