import{d as C,s as N,r as c,v as S,a as v,e as t,u as l,h as A,w as a,b as r,x as B,f as i,j as F,o as y,t as x,F as j}from"./app-CwYIwQSC.js";import{_ as D,a as I}from"./RelatedPostsEditor.vue_vue_type_script_setup_true_lang-C0g7HIOf.js";import{_ as M}from"./GalleryEditor.vue_vue_type_script_setup_true_lang-D5puj094.js";import{_ as G}from"./ImagePicker.vue_vue_type_script_setup_true_lang-L4bjYwSZ.js";import{_ as T}from"./TagsInput.vue_vue_type_script_setup_true_lang-CvFQWNFN.js";import{_ as $}from"./AppLogoIcon.vue_vue_type_script_setup_true_lang-Dx9FjVC5.js";import{_ as n,a as m}from"./CardContent.vue_vue_type_script_setup_true_lang-jkoPtzf2.js";import{_ as p,a as f}from"./CardTitle.vue_vue_type_script_setup_true_lang-BZNL0rcZ.js";import{_}from"./Input.vue_vue_type_script_setup_true_lang-BKSGu_pj.js";import{_ as u}from"./Label.vue_vue_type_script_setup_true_lang-rqdMovXo.js";import{_ as q}from"./Switch.vue_vue_type_script_setup_true_lang-C3cZtpwO.js";import{_ as U}from"./Textarea.vue_vue_type_script_setup_true_lang-DTs7-eFu.js";import{_ as z}from"./AppLayout.vue_vue_type_script_setup_true_lang-BSX6QORE.js";import"./SelectValue.vue_vue_type_script_setup_true_lang-C7kww9TU.js";import"./VisuallyHidden-BFsJM77K.js";import"./useForwardExpose-DwCRi1H8.js";import"./RovingFocusGroup-BEkph1Pq.js";import"./chevron-down-BdPs_er2.js";import"./createLucideIcon-CAlWoAif.js";import"./check-DKDx7fpG.js";import"./useFormControl-7wAwFzIT.js";import"./trash-2-B2KrgVcp.js";import"./plus-Dbt_UliG.js";import"./DialogTitle.vue_vue_type_script_setup_true_lang-BNPmz6YY.js";import"./DialogTrigger.vue_vue_type_script_setup_true_lang-Cp8unezc.js";import"./RovingFocusItem-BjJlZXYk.js";import"./upload-ELPgQsny.js";import"./index-Drm3xwRu.js";import"./VisuallyHiddenInput-C4k7Qxax.js";import"./useArrowNavigation-C6Y-ieo6.js";import"./index-DPfDGp1o.js";const L={class:"flex h-full flex-1 flex-col gap-4 p-4"},O={class:"grid gap-6 lg:grid-cols-3"},P={class:"lg:col-span-2 space-y-6"},H={class:"space-y-2"},J={key:0,class:"text-sm text-destructive"},K={class:"space-y-2"},Q={class:"grid gap-4 sm:grid-cols-2"},R={class:"space-y-2"},W={class:"space-y-2"},X={class:"space-y-2"},Y={class:"space-y-2"},Z={class:"space-y-6"},h={class:"flex items-center justify-between"},ll={class:"space-y-2"},el={class:"flex justify-end gap-4"},jl=C({__name:"Edit",props:{blog:{}},setup(b){const d=b,o=N({title:d.blog.title||"",slug:d.blog.slug||"",short_description:d.blog.short_description||"",main_image:d.blog.main_image||"",date:d.blog.date&&d.blog.date.split("T")[0]||"",author:d.blog.author||"",author_url:d.blog.author_url||"",tags:d.blog.tags||[],tags_url:d.blog.tags_url||"",excerpt:d.blog.excerpt||"",content:d.blog.content||[],related_posts:d.blog.related_posts||[],gallery:d.blog.gallery||[],is_active:d.blog.is_active!==void 0?d.blog.is_active:!0,sort_order:d.blog.sort_order||0}),V=c(!1);c(d.blog.slug||""),S(()=>o.title,g=>{g&&!V.value&&(o.slug=g.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-z0-9]+/g,"-").replace(/^-|-$/g,""))});const E=()=>{V.value=!0},k=()=>{o.slug=o.slug.trim()||null,o.date=o.date&&o.date.trim()?o.date:null,o.put(`/cms/blogs/${d.blog.id}`)},w=[{title:"Dashboard",href:"/dashboard"},{title:"Blog",href:"/cms/blogs"},{title:"Editar",href:`/cms/blogs/${d.blog.id}/edit`}];return(g,e)=>(y(),v(j,null,[t(l(A),{title:`Editar: ${b.blog.title} - CMS`},null,8,["title"]),t(z,{breadcrumbs:w},{default:a(()=>[r("div",L,[e[31]||(e[31]=r("div",{class:"flex items-center justify-between"},[r("h2",{class:"text-2xl font-bold tracking-tight"},"Editar Artículo")],-1)),r("form",{onSubmit:B(k,["prevent"]),class:"space-y-6"},[r("div",O,[r("div",P,[t(l(n),null,{default:a(()=>[t(l(p),null,{default:a(()=>[t(l(f),null,{default:a(()=>[...e[14]||(e[14]=[i("Información básica",-1)])]),_:1})]),_:1}),t(l(m),{class:"space-y-4"},{default:a(()=>[r("div",H,[t(l(u),{for:"title"},{default:a(()=>[...e[15]||(e[15]=[i("Título *",-1)])]),_:1}),t(l(_),{id:"title",modelValue:l(o).title,"onUpdate:modelValue":e[0]||(e[0]=s=>l(o).title=s),placeholder:"Título del artículo"},null,8,["modelValue"]),l(o).errors.title?(y(),v("p",J,x(l(o).errors.title),1)):F("",!0)]),r("div",K,[t(l(u),{for:"slug"},{default:a(()=>[...e[16]||(e[16]=[i("Slug",-1)])]),_:1}),t(l(_),{id:"slug",modelValue:l(o).slug,"onUpdate:modelValue":e[1]||(e[1]=s=>l(o).slug=s),placeholder:"url-amigable (se genera automáticamente desde el título)",onInput:E},null,8,["modelValue"]),e[17]||(e[17]=r("p",{class:"text-xs text-muted-foreground"}," Se regenera automáticamente desde el título mientras escribes ",-1))]),r("div",Q,[r("div",R,[t(l(u),{for:"author"},{default:a(()=>[...e[18]||(e[18]=[i("Autor",-1)])]),_:1}),t(l(_),{id:"author",modelValue:l(o).author,"onUpdate:modelValue":e[2]||(e[2]=s=>l(o).author=s),placeholder:"Nombre del autor"},null,8,["modelValue"])]),r("div",W,[t(l(u),{for:"date"},{default:a(()=>[...e[19]||(e[19]=[i("Fecha",-1)])]),_:1}),t(l(_),{id:"date",modelValue:l(o).date,"onUpdate:modelValue":e[3]||(e[3]=s=>l(o).date=s),type:"date"},null,8,["modelValue"])])]),r("div",X,[t(l(u),{for:"short_description"},{default:a(()=>[...e[20]||(e[20]=[i("Descripción corta",-1)])]),_:1}),t(l(U),{id:"short_description",modelValue:l(o).short_description,"onUpdate:modelValue":e[4]||(e[4]=s=>l(o).short_description=s),placeholder:"Breve descripción del artículo",rows:2},null,8,["modelValue"])]),r("div",Y,[t(l(u),{for:"excerpt"},{default:a(()=>[...e[21]||(e[21]=[i("Extracto",-1)])]),_:1}),t(l(U),{id:"excerpt",modelValue:l(o).excerpt,"onUpdate:modelValue":e[5]||(e[5]=s=>l(o).excerpt=s),placeholder:"Extracto para mostrar en listados",rows:3},null,8,["modelValue"])])]),_:1})]),_:1}),t(l(n),null,{default:a(()=>[t(l(p),null,{default:a(()=>[t(l(f),null,{default:a(()=>[...e[22]||(e[22]=[i("Contenido del artículo",-1)])]),_:1})]),_:1}),t(l(m),null,{default:a(()=>[t(D,{modelValue:l(o).content,"onUpdate:modelValue":e[6]||(e[6]=s=>l(o).content=s),label:""},null,8,["modelValue"])]),_:1})]),_:1}),t(l(n),null,{default:a(()=>[t(l(p),null,{default:a(()=>[t(l(f),null,{default:a(()=>[...e[23]||(e[23]=[i("Artículos relacionados",-1)])]),_:1})]),_:1}),t(l(m),null,{default:a(()=>[t(I,{modelValue:l(o).related_posts,"onUpdate:modelValue":e[7]||(e[7]=s=>l(o).related_posts=s),label:""},null,8,["modelValue"])]),_:1})]),_:1})]),r("div",Z,[t(l(n),null,{default:a(()=>[t(l(p),null,{default:a(()=>[t(l(f),null,{default:a(()=>[...e[24]||(e[24]=[i("Publicación",-1)])]),_:1})]),_:1}),t(l(m),{class:"space-y-4"},{default:a(()=>[r("div",h,[t(l(u),{for:"is_active"},{default:a(()=>[...e[25]||(e[25]=[i("Activo",-1)])]),_:1}),t(l(q),{id:"is_active",checked:l(o).is_active,"onUpdate:checked":e[8]||(e[8]=s=>l(o).is_active=s)},null,8,["checked"])]),r("div",ll,[t(l(u),{for:"sort_order"},{default:a(()=>[...e[26]||(e[26]=[i("Orden",-1)])]),_:1}),t(l(_),{id:"sort_order",modelValue:l(o).sort_order,"onUpdate:modelValue":e[9]||(e[9]=s=>l(o).sort_order=s),modelModifiers:{number:!0},type:"number"},null,8,["modelValue"])])]),_:1})]),_:1}),t(l(n),null,{default:a(()=>[t(l(p),null,{default:a(()=>[t(l(f),null,{default:a(()=>[...e[27]||(e[27]=[i("Imagen principal",-1)])]),_:1})]),_:1}),t(l(m),null,{default:a(()=>[t(G,{modelValue:l(o).main_image,"onUpdate:modelValue":e[10]||(e[10]=s=>l(o).main_image=s),label:""},null,8,["modelValue"])]),_:1})]),_:1}),t(l(n),null,{default:a(()=>[t(l(p),null,{default:a(()=>[t(l(f),null,{default:a(()=>[...e[28]||(e[28]=[i("Etiquetas",-1)])]),_:1})]),_:1}),t(l(m),null,{default:a(()=>[t(T,{modelValue:l(o).tags,"onUpdate:modelValue":e[11]||(e[11]=s=>l(o).tags=s),label:"",placeholder:"Agregar etiqueta..."},null,8,["modelValue"])]),_:1})]),_:1}),t(l(n),null,{default:a(()=>[t(l(p),null,{default:a(()=>[t(l(f),null,{default:a(()=>[...e[29]||(e[29]=[i("Galería",-1)])]),_:1})]),_:1}),t(l(m),null,{default:a(()=>[t(M,{modelValue:l(o).gallery,"onUpdate:modelValue":e[12]||(e[12]=s=>l(o).gallery=s),label:"","simple-mode":!0},null,8,["modelValue"])]),_:1})]),_:1})])]),r("div",el,[t(l($),{type:"button",variant:"outline",onClick:e[13]||(e[13]=s=>g.$inertia.visit("/cms/blogs"))},{default:a(()=>[...e[30]||(e[30]=[i(" Cancelar ",-1)])]),_:1}),t(l($),{type:"submit",disabled:l(o).processing},{default:a(()=>[i(x(l(o).processing?"Guardando...":"Guardar cambios"),1)]),_:1},8,["disabled"])])],32)])]),_:1})],64))}});export{jl as default};
