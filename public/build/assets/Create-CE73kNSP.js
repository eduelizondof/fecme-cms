import{d as U,s as w,r as k,y as S,a as V,e as t,u as e,h as N,w as s,b as r,v as A,f as d,j as B,o as c,t as b,F as D}from"./app-ytOmZ7ir.js";import{_ as E}from"./ContentEditor.vue_vue_type_script_setup_true_lang-Yzwsbxg2.js";import{_ as F}from"./GalleryEditor.vue_vue_type_script_setup_true_lang-D1_HfdT6.js";import{_ as I}from"./ImagePicker.vue_vue_type_script_setup_true_lang-t0AwYW61.js";import{_ as j}from"./TagsInput.vue_vue_type_script_setup_true_lang-CJx6TOO3.js";import{_ as v}from"./AppLogoIcon.vue_vue_type_script_setup_true_lang-DkKiyJ8y.js";import{_ as u,a as n}from"./CardContent.vue_vue_type_script_setup_true_lang-DJjHj1yR.js";import{_ as m,a as p}from"./CardTitle.vue_vue_type_script_setup_true_lang-BxrB3YU1.js";import{_ as f}from"./Input.vue_vue_type_script_setup_true_lang-Cg5KoNb9.js";import{_ as i}from"./Label.vue_vue_type_script_setup_true_lang-BGDvcl4_.js";import{_ as M}from"./Switch.vue_vue_type_script_setup_true_lang-BgWdwIpM.js";import{_ as y}from"./Textarea.vue_vue_type_script_setup_true_lang--70_c2A7.js";import{_ as T}from"./AppLayout.vue_vue_type_script_setup_true_lang-Blr5NyNp.js";import"./SelectValue.vue_vue_type_script_setup_true_lang-Cjp7p_CV.js";import"./VisuallyHidden-D12jqtLz.js";import"./useForwardExpose-UKO2NkdT.js";import"./RovingFocusGroup-Du9caoW0.js";import"./chevron-down-D1kN_C_R.js";import"./createLucideIcon-L2cLuIK_.js";import"./check-ChEg2bhV.js";import"./nullish-B9QBIykp.js";import"./useFormControl-DWNA9kvS.js";import"./trash-2-BFRoFMyE.js";import"./plus-DlGHL1SM.js";import"./DialogTitle.vue_vue_type_script_setup_true_lang-CO8LmZBl.js";import"./DialogTrigger.vue_vue_type_script_setup_true_lang-D2Z3g0sk.js";import"./RovingFocusItem-BkC36SEK.js";import"./upload-D4eXmn6g.js";import"./index-C9iDn918.js";import"./VisuallyHiddenInput-Cp1nIPrQ.js";import"./useArrowNavigation-C6Y-ieo6.js";import"./index-DPfDGp1o.js";const q={class:"flex h-full flex-1 flex-col gap-4 p-4"},z={class:"grid gap-6 lg:grid-cols-3"},G={class:"lg:col-span-2 space-y-6"},O={class:"space-y-2"},L={key:0,class:"text-sm text-destructive"},P={class:"space-y-2"},H={class:"grid gap-4 sm:grid-cols-2"},J={class:"space-y-2"},K={class:"space-y-2"},Q={class:"space-y-2"},R={class:"space-y-2"},W={class:"space-y-6"},X={class:"flex items-center justify-between"},Y={class:"space-y-2"},Z={class:"flex justify-end gap-4"},Ee=U({__name:"Create",setup(h){const o=w({title:"",slug:"",short_description:"",main_image:"",date:new Date().toISOString().split("T")[0],author:"",author_url:"",tags:[],tags_url:"",excerpt:"",content:[],related_posts:[],gallery:[],is_active:!0,sort_order:0}),g=k(!1);S(()=>o.title,_=>{_&&!g.value&&(o.slug=_.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-z0-9]+/g,"-").replace(/^-|-$/g,""))});const x=()=>{g.value=!0},$=()=>{o.slug=o.slug.trim()||null,o.date=o.date&&o.date.trim()?o.date:null,o.post("/cms/blogs")},C=[{title:"Dashboard",href:"/dashboard"},{title:"Blog",href:"/cms/blogs"},{title:"Crear",href:"/cms/blogs/create"}];return(_,l)=>(c(),V(D,null,[t(e(N),{title:"Crear Artículo - CMS"}),t(T,{breadcrumbs:C},{default:s(()=>[r("div",q,[l[29]||(l[29]=r("div",{class:"flex items-center justify-between"},[r("h2",{class:"text-2xl font-bold tracking-tight"},"Crear Artículo")],-1)),r("form",{onSubmit:A($,["prevent"]),class:"space-y-6"},[r("div",z,[r("div",G,[t(e(u),null,{default:s(()=>[t(e(m),null,{default:s(()=>[t(e(p),null,{default:s(()=>[...l[13]||(l[13]=[d("Información básica",-1)])]),_:1})]),_:1}),t(e(n),{class:"space-y-4"},{default:s(()=>[r("div",O,[t(e(i),{for:"title"},{default:s(()=>[...l[14]||(l[14]=[d("Título *",-1)])]),_:1}),t(e(f),{id:"title",modelValue:e(o).title,"onUpdate:modelValue":l[0]||(l[0]=a=>e(o).title=a),placeholder:"Título del artículo"},null,8,["modelValue"]),e(o).errors.title?(c(),V("p",L,b(e(o).errors.title),1)):B("",!0)]),r("div",P,[t(e(i),{for:"slug"},{default:s(()=>[...l[15]||(l[15]=[d("Slug",-1)])]),_:1}),t(e(f),{id:"slug",modelValue:e(o).slug,"onUpdate:modelValue":l[1]||(l[1]=a=>e(o).slug=a),placeholder:"url-amigable (se genera automáticamente desde el título)",onInput:x},null,8,["modelValue"]),l[16]||(l[16]=r("p",{class:"text-xs text-muted-foreground"}," Se genera automáticamente desde el título mientras escribes ",-1))]),r("div",H,[r("div",J,[t(e(i),{for:"author"},{default:s(()=>[...l[17]||(l[17]=[d("Autor",-1)])]),_:1}),t(e(f),{id:"author",modelValue:e(o).author,"onUpdate:modelValue":l[2]||(l[2]=a=>e(o).author=a),placeholder:"Nombre del autor"},null,8,["modelValue"])]),r("div",K,[t(e(i),{for:"date"},{default:s(()=>[...l[18]||(l[18]=[d("Fecha",-1)])]),_:1}),t(e(f),{id:"date",modelValue:e(o).date,"onUpdate:modelValue":l[3]||(l[3]=a=>e(o).date=a),type:"date"},null,8,["modelValue"])])]),r("div",Q,[t(e(i),{for:"short_description"},{default:s(()=>[...l[19]||(l[19]=[d("Descripción corta",-1)])]),_:1}),t(e(y),{id:"short_description",modelValue:e(o).short_description,"onUpdate:modelValue":l[4]||(l[4]=a=>e(o).short_description=a),placeholder:"Breve descripción del artículo",rows:2},null,8,["modelValue"])]),r("div",R,[t(e(i),{for:"excerpt"},{default:s(()=>[...l[20]||(l[20]=[d("Extracto",-1)])]),_:1}),t(e(y),{id:"excerpt",modelValue:e(o).excerpt,"onUpdate:modelValue":l[5]||(l[5]=a=>e(o).excerpt=a),placeholder:"Extracto para mostrar en listados",rows:3},null,8,["modelValue"])])]),_:1})]),_:1}),t(e(u),null,{default:s(()=>[t(e(m),null,{default:s(()=>[t(e(p),null,{default:s(()=>[...l[21]||(l[21]=[d("Contenido del artículo",-1)])]),_:1})]),_:1}),t(e(n),null,{default:s(()=>[t(E,{modelValue:e(o).content,"onUpdate:modelValue":l[6]||(l[6]=a=>e(o).content=a),label:""},null,8,["modelValue"])]),_:1})]),_:1})]),r("div",W,[t(e(u),null,{default:s(()=>[t(e(m),null,{default:s(()=>[t(e(p),null,{default:s(()=>[...l[22]||(l[22]=[d("Publicación",-1)])]),_:1})]),_:1}),t(e(n),{class:"space-y-4"},{default:s(()=>[r("div",X,[t(e(i),{for:"is_active"},{default:s(()=>[...l[23]||(l[23]=[d("Activo",-1)])]),_:1}),t(e(M),{id:"is_active",checked:e(o).is_active,"onUpdate:checked":l[7]||(l[7]=a=>e(o).is_active=a)},null,8,["checked"])]),r("div",Y,[t(e(i),{for:"sort_order"},{default:s(()=>[...l[24]||(l[24]=[d("Orden",-1)])]),_:1}),t(e(f),{id:"sort_order",modelValue:e(o).sort_order,"onUpdate:modelValue":l[8]||(l[8]=a=>e(o).sort_order=a),modelModifiers:{number:!0},type:"number"},null,8,["modelValue"])])]),_:1})]),_:1}),t(e(u),null,{default:s(()=>[t(e(m),null,{default:s(()=>[t(e(p),null,{default:s(()=>[...l[25]||(l[25]=[d("Imagen principal",-1)])]),_:1})]),_:1}),t(e(n),null,{default:s(()=>[t(I,{modelValue:e(o).main_image,"onUpdate:modelValue":l[9]||(l[9]=a=>e(o).main_image=a),label:""},null,8,["modelValue"])]),_:1})]),_:1}),t(e(u),null,{default:s(()=>[t(e(m),null,{default:s(()=>[t(e(p),null,{default:s(()=>[...l[26]||(l[26]=[d("Etiquetas",-1)])]),_:1})]),_:1}),t(e(n),null,{default:s(()=>[t(j,{modelValue:e(o).tags,"onUpdate:modelValue":l[10]||(l[10]=a=>e(o).tags=a),label:"",placeholder:"Agregar etiqueta..."},null,8,["modelValue"])]),_:1})]),_:1}),t(e(u),null,{default:s(()=>[t(e(m),null,{default:s(()=>[t(e(p),null,{default:s(()=>[...l[27]||(l[27]=[d("Galería",-1)])]),_:1})]),_:1}),t(e(n),null,{default:s(()=>[t(F,{modelValue:e(o).gallery,"onUpdate:modelValue":l[11]||(l[11]=a=>e(o).gallery=a),label:"","simple-mode":!0},null,8,["modelValue"])]),_:1})]),_:1})])]),r("div",Z,[t(e(v),{type:"button",variant:"outline",onClick:l[12]||(l[12]=a=>_.$inertia.visit("/cms/blogs"))},{default:s(()=>[...l[28]||(l[28]=[d(" Cancelar ",-1)])]),_:1}),t(e(v),{type:"submit",disabled:e(o).processing},{default:s(()=>[d(b(e(o).processing?"Guardando...":"Crear artículo"),1)]),_:1},8,["disabled"])])],32)])]),_:1})],64))}});export{Ee as default};
