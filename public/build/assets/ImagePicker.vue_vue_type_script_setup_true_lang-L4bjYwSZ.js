import{P as q,c as F,_ as R}from"./AppLogoIcon.vue_vue_type_script_setup_true_lang-Dx9FjVC5.js";import{c as Y,_ as Z,a as ee,b as ae}from"./DialogTitle.vue_vue_type_script_setup_true_lang-BNPmz6YY.js";import{_ as te}from"./DialogTrigger.vue_vue_type_script_setup_true_lang-Cp8unezc.js";import{_ as L}from"./Input.vue_vue_type_script_setup_true_lang-BKSGu_pj.js";import{_ as P}from"./Label.vue_vue_type_script_setup_true_lang-rqdMovXo.js";import{a as se,c as le,u as oe,b as re}from"./VisuallyHidden-BFsJM77K.js";import{a as M,u as ne,r as j}from"./useForwardExpose-DwCRi1H8.js";import{a as ie,P as ue,R as de}from"./RovingFocusGroup-BEkph1Pq.js";import{d as h,A,r as w,g as V,w as s,q as C,u as e,o as p,c as T,E as ce,e as l,H as fe,j as $,B as pe,x as me,n as ve,k as be,m as E,b as k,v as ge,a as _,f as y,t as x,F as _e,p as ye,C as O}from"./app-CwYIwQSC.js";import{R as he}from"./RovingFocusItem-BjJlZXYk.js";import{X as Ve}from"./AppLayout.vue_vue_type_script_setup_true_lang-BSX6QORE.js";import{c as z}from"./createLucideIcon-CAlWoAif.js";import{U as we}from"./upload-ELPgQsny.js";const[D,Ce]=le("TabsRoot");var ke=h({__name:"TabsRoot",props:{defaultValue:{type:null,required:!1},orientation:{type:String,required:!1,default:"horizontal"},dir:{type:String,required:!1},activationMode:{type:String,required:!1,default:"automatic"},modelValue:{type:null,required:!1},unmountOnHide:{type:Boolean,required:!1,default:!0},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["update:modelValue"],setup(a,{emit:o}){const n=a,t=o,{orientation:u,unmountOnHide:i,dir:d}=A(n),r=se(d);M();const c=ne(n,"modelValue",t,{defaultValue:n.defaultValue,passive:n.modelValue===void 0}),v=w();return Ce({modelValue:c,changeModelValue:g=>{c.value=g},orientation:u,dir:r,unmountOnHide:i,activationMode:n.activationMode,baseId:ie(void 0,"reka-tabs"),tabsList:v}),(g,N)=>(p(),V(e(q),{dir:e(r),"data-orientation":e(u),"as-child":g.asChild,as:g.as},{default:s(()=>[C(g.$slots,"default",{modelValue:e(c)})]),_:3},8,["dir","data-orientation","as-child","as"]))}}),$e=ke;function K(a,o){return`${a}-trigger-${o}`}function G(a,o){return`${a}-content-${o}`}var Te=h({__name:"TabsContent",props:{value:{type:[String,Number],required:!0},forceMount:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(a){const o=a,{forwardRef:n}=M(),t=D(),u=T(()=>K(t.baseId,o.value)),i=T(()=>G(t.baseId,o.value)),d=T(()=>o.value===t.modelValue.value),r=w(d.value);return ce(()=>{requestAnimationFrame(()=>{r.value=!1})}),(c,v)=>(p(),V(e(ue),{present:c.forceMount||d.value,"force-mount":""},{default:s(({present:g})=>[l(e(q),{id:i.value,ref:e(n),"as-child":c.asChild,as:c.as,role:"tabpanel","data-state":d.value?"active":"inactive","data-orientation":e(t).orientation.value,"aria-labelledby":u.value,hidden:!g,tabindex:"0",style:fe({animationDuration:r.value?"0s":void 0})},{default:s(()=>[!e(t).unmountOnHide.value||g?C(c.$slots,"default",{key:0}):$("v-if",!0)]),_:2},1032,["id","as-child","as","data-state","data-orientation","aria-labelledby","hidden","style"])]),_:3},8,["present"]))}}),qe=Te,Me=h({__name:"TabsList",props:{loop:{type:Boolean,required:!1,default:!0},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(a){const o=a,{loop:n}=A(o),{forwardRef:t,currentElement:u}=M(),i=D();return i.tabsList=u,(d,r)=>(p(),V(e(de),{"as-child":"",orientation:e(i).orientation.value,dir:e(i).dir.value,loop:e(n)},{default:s(()=>[l(e(q),{ref:e(t),role:"tablist","as-child":d.asChild,as:d.as,"aria-orientation":e(i).orientation.value},{default:s(()=>[C(d.$slots,"default")]),_:3},8,["as-child","as","aria-orientation"])]),_:3},8,["orientation","dir","loop"]))}}),Be=Me,Ie=h({__name:"TabsTrigger",props:{value:{type:[String,Number],required:!0},disabled:{type:Boolean,required:!1,default:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(a){const o=a,{forwardRef:n}=M(),t=D(),u=T(()=>K(t.baseId,o.value)),i=T(()=>G(t.baseId,o.value)),d=T(()=>o.value===t.modelValue.value);return(r,c)=>(p(),V(e(he),{"as-child":"",focusable:!r.disabled,active:d.value},{default:s(()=>[l(e(q),{id:u.value,ref:e(n),role:"tab",type:r.as==="button"?"button":void 0,as:r.as,"as-child":r.asChild,"aria-selected":d.value?"true":"false","aria-controls":i.value,"data-state":d.value?"active":"inactive",disabled:r.disabled,"data-disabled":r.disabled?"":void 0,"data-orientation":e(t).orientation.value,onMousedown:c[0]||(c[0]=me(v=>{!r.disabled&&v.ctrlKey===!1?e(t).changeModelValue(r.value):v.preventDefault()},["left"])),onKeydown:c[1]||(c[1]=pe(v=>e(t).changeModelValue(r.value),["enter","space"])),onFocus:c[2]||(c[2]=()=>{const v=e(t).activationMode!=="manual";!d.value&&!r.disabled&&v&&e(t).changeModelValue(r.value)})},{default:s(()=>[C(r.$slots,"default")]),_:3},8,["id","type","as","as-child","aria-selected","aria-controls","data-state","disabled","data-disabled","data-orientation"])]),_:3},8,["focusable","active"]))}}),Re=Ie;/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H=z("ImagePlusIcon",[["path",{d:"M16 5h6",key:"1vod17"}],["path",{d:"M19 2v6",key:"4bpg5p"}],["path",{d:"M21 11.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h7.5",key:"1ue2ih"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Le=z("LinkIcon",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]),Pe=h({__name:"Tabs",props:{defaultValue:{},orientation:{},dir:{},activationMode:{},modelValue:{},unmountOnHide:{type:Boolean},asChild:{type:Boolean},as:{}},emits:["update:modelValue"],setup(a,{emit:o}){const u=oe(a,o);return(i,d)=>(p(),V(e($e),ve(be(e(u))),{default:s(()=>[C(i.$slots,"default")]),_:3},16))}}),S=h({__name:"TabsContent",props:{value:{},forceMount:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},setup(a){const o=a,n=j(o,"class");return(t,u)=>(p(),V(e(qe),E({class:e(F)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",o.class)},e(n)),{default:s(()=>[C(t.$slots,"default")]),_:3},16,["class"]))}}),xe=h({__name:"TabsList",props:{loop:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},setup(a){const o=a,n=j(o,"class");return(t,u)=>(p(),V(e(Be),E(e(n),{class:e(F)("inline-flex items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",o.class)}),{default:s(()=>[C(t.$slots,"default")]),_:3},16,["class"]))}}),Se={class:"truncate"},U=h({__name:"TabsTrigger",props:{value:{},disabled:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},setup(a){const o=a,n=j(o,"class"),t=re(n);return(u,i)=>(p(),V(e(Re),E(e(t),{class:e(F)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",o.class)}),{default:s(()=>[k("span",Se,[C(u.$slots,"default")])]),_:3},16,["class"]))}}),Ue={class:"space-y-2"},Fe={class:"flex items-start gap-4"},je={key:0,class:"relative w-32 h-32 rounded-lg overflow-hidden border bg-muted"},Ee=["src","alt"],De={class:"space-y-2"},Ne={key:0,class:"w-full h-48 rounded-lg overflow-hidden border bg-muted"},Oe=["src"],He={class:"space-y-2"},Ae={key:0,class:"text-sm text-destructive"},ze={key:1,class:"text-sm text-muted-foreground"},Ke={key:0,class:"text-center py-8 text-muted-foreground"},Ge={key:1,class:"text-center py-8 text-muted-foreground"},Xe={key:2,class:"grid grid-cols-4 gap-4 max-h-[400px] overflow-y-auto"},Je=["onClick"],Qe=["src","alt"],da=h({__name:"ImagePicker",props:{modelValue:{},label:{default:"Imagen"},placeholder:{default:"URL de la imagen"}},emits:["update:modelValue"],setup(a,{emit:o}){const n=a,t=o,u=w(!1),i=w(n.modelValue||""),d=w(!1),r=w(""),c=w([]),v=w(!1);ge(()=>n.modelValue,m=>{i.value=m||""});const g=async()=>{v.value=!0;try{const m=await O.get("/cms/media?type=images&per_page=50");c.value=m.data.data||[]}catch(m){console.error("Error loading media library:",m)}finally{v.value=!1}},N=()=>{t("update:modelValue",i.value),u.value=!1},X=async m=>{const b=m.target.files?.[0];if(!b)return;d.value=!0,r.value="";const B=new FormData;B.append("file",b);try{const I=await O.post("/cms/media",B,{headers:{"Content-Type":"multipart/form-data"}});t("update:modelValue",I.data.url),u.value=!1}catch(I){r.value=I.response?.data?.message||"Error al subir la imagen"}finally{d.value=!1}},J=m=>{t("update:modelValue",m.url),u.value=!1},Q=()=>{t("update:modelValue",""),i.value=""},W=m=>{u.value=m,m&&g()};return(m,f)=>(p(),_("div",Ue,[a.label?(p(),V(e(P),{key:0},{default:s(()=>[y(x(a.label),1)]),_:1})):$("",!0),k("div",Fe,[a.modelValue?(p(),_("div",je,[k("img",{src:a.modelValue,alt:a.label,class:"w-full h-full object-cover"},null,8,Ee),l(e(R),{variant:"destructive",size:"icon",class:"absolute top-1 right-1 h-6 w-6",onClick:Q},{default:s(()=>[l(e(Ve),{class:"h-3 w-3"})]),_:1})])):$("",!0),l(e(Y),{open:u.value,"onUpdate:open":W},{default:s(()=>[l(e(te),{"as-child":""},{default:s(()=>[l(e(R),{variant:"outline",type:"button"},{default:s(()=>[l(e(H),{class:"mr-2 h-4 w-4"}),y(" "+x(a.modelValue?"Cambiar imagen":"Seleccionar imagen"),1)]),_:1})]),_:1}),l(e(Z),{class:"max-w-2xl"},{default:s(()=>[l(e(ee),null,{default:s(()=>[l(e(ae),null,{default:s(()=>[...f[2]||(f[2]=[y("Seleccionar imagen",-1)])]),_:1})]),_:1}),l(e(Pe),{"default-value":"url",class:"w-full"},{default:s(()=>[l(e(xe),{class:"grid w-full grid-cols-3"},{default:s(()=>[l(e(U),{value:"url"},{default:s(()=>[l(e(Le),{class:"mr-2 h-4 w-4"}),f[3]||(f[3]=y(" URL ",-1))]),_:1}),l(e(U),{value:"upload"},{default:s(()=>[l(e(we),{class:"mr-2 h-4 w-4"}),f[4]||(f[4]=y(" Subir ",-1))]),_:1}),l(e(U),{value:"library"},{default:s(()=>[l(e(H),{class:"mr-2 h-4 w-4"}),f[5]||(f[5]=y(" Biblioteca ",-1))]),_:1})]),_:1}),l(e(S),{value:"url",class:"space-y-4"},{default:s(()=>[k("div",De,[l(e(P),null,{default:s(()=>[...f[6]||(f[6]=[y("URL de la imagen",-1)])]),_:1}),l(e(L),{modelValue:i.value,"onUpdate:modelValue":f[0]||(f[0]=b=>i.value=b),placeholder:a.placeholder},null,8,["modelValue","placeholder"])]),i.value?(p(),_("div",Ne,[k("img",{src:i.value,alt:"Preview",class:"w-full h-full object-contain"},null,8,Oe)])):$("",!0),l(e(R),{onClick:N,class:"w-full"},{default:s(()=>[...f[7]||(f[7]=[y(" Usar esta URL ",-1)])]),_:1})]),_:1}),l(e(S),{value:"upload",class:"space-y-4"},{default:s(()=>[k("div",He,[l(e(P),null,{default:s(()=>[...f[8]||(f[8]=[y("Subir archivo",-1)])]),_:1}),l(e(L),{type:"file",accept:"image/*",disabled:d.value,onChange:X},null,8,["disabled"])]),r.value?(p(),_("p",Ae,x(r.value),1)):$("",!0),d.value?(p(),_("p",ze," Subiendo imagen... ")):$("",!0)]),_:1}),l(e(S),{value:"library",class:"space-y-4"},{default:s(()=>[v.value?(p(),_("div",Ke," Cargando biblioteca... ")):c.value.length===0?(p(),_("div",Ge," No hay imÃ¡genes en la biblioteca ")):(p(),_("div",Xe,[(p(!0),_(_e,null,ye(c.value,b=>(p(),_("button",{key:b.id,type:"button",class:"aspect-square rounded-lg overflow-hidden border hover:border-primary transition-colors",onClick:B=>J(b)},[k("img",{src:b.url,alt:b.name,class:"w-full h-full object-cover"},null,8,Qe)],8,Je))),128))]))]),_:1})]),_:1})]),_:1})]),_:1},8,["open"])]),l(e(L),{"model-value":a.modelValue,placeholder:a.placeholder,class:"mt-2","onUpdate:modelValue":f[1]||(f[1]=b=>m.$emit("update:modelValue",b))},null,8,["model-value","placeholder"])]))}});export{da as _,Pe as a,xe as b,U as c,S as d};
