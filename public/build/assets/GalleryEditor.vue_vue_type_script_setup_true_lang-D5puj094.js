import{_ as w}from"./ImagePicker.vue_vue_type_script_setup_true_lang-L4bjYwSZ.js";import{_ as h}from"./AppLogoIcon.vue_vue_type_script_setup_true_lang-Dx9FjVC5.js";import{_ as C}from"./Input.vue_vue_type_script_setup_true_lang-BKSGu_pj.js";import{_ as b}from"./Label.vue_vue_type_script_setup_true_lang-rqdMovXo.js";import{P as U}from"./plus-Dbt_UliG.js";import{T as V}from"./trash-2-B2KrgVcp.js";import{d as j,c as z,a as u,b as s,g as N,j as T,e as d,w as c,f as g,t as f,u as i,F as x,p as B,o as r}from"./app-CwYIwQSC.js";const A={class:"space-y-4"},D={class:"flex items-center justify-between"},E={key:0,class:"text-sm text-muted-foreground py-8 text-center border border-dashed rounded-lg bg-muted/30"},F={key:1,class:"space-y-2"},G={class:"flex flex-col gap-0.5 opacity-50 group-hover:opacity-100"},P=["disabled","onClick"],S=["disabled","onClick"],H={class:"text-xs text-muted-foreground w-6 text-center"},L={class:"flex-1"},q={key:2,class:"space-y-4"},J={class:"flex items-start justify-between mb-3"},K={class:"flex items-center gap-2"},O={class:"flex flex-col gap-0.5"},Q=["disabled","onClick"],R=["disabled","onClick"],W={class:"text-sm font-medium"},X={class:"grid gap-4 sm:grid-cols-2"},Y={class:"space-y-3"},Z={class:"space-y-2"},ee={class:"space-y-2"},te={class:"text-xs text-muted-foreground"},re=j({__name:"GalleryEditor",props:{modelValue:{default:()=>[]},label:{default:"Galería"},simpleMode:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(m,{emit:I}){const p=m,k=I,o=z({get:()=>{const l=p.modelValue||[];return p.simpleMode?l:l.map(e=>typeof e=="string"?{image:e,title:"",description:""}:e)},set:l=>{p.simpleMode,k("update:modelValue",l)}}),$=()=>{p.simpleMode?o.value=[...o.value,""]:o.value=[...o.value,{image:"",title:"",description:""}]},y=l=>{const e=[...o.value];e.splice(l,1),o.value=e},M=(l,e)=>{const a=[...o.value];a[l]=e,o.value=a},_=(l,e,a)=>{const t=[...o.value];t[l]={...t[l],[e]:a},o.value=t},v=(l,e)=>{if(e<0||e>=o.value.length)return;const a=[...o.value],[t]=a.splice(l,1);a.splice(e,0,t),o.value=a};return(l,e)=>(r(),u("div",A,[s("div",D,[m.label?(r(),N(i(b),{key:0,class:"text-base font-medium"},{default:c(()=>[g(f(m.label),1)]),_:1})):T("",!0),d(i(h),{type:"button",variant:"outline",size:"sm",onClick:$,class:"gap-1"},{default:c(()=>[d(i(U),{class:"h-4 w-4"}),e[0]||(e[0]=g(" Agregar imagen ",-1))]),_:1})]),o.value.length===0?(r(),u("div",E,[...e[1]||(e[1]=[s("p",null,"No hay imágenes en la galería.",-1),s("p",{class:"text-xs mt-1"},'Haz clic en "Agregar imagen" para comenzar.',-1)])])):m.simpleMode?(r(),u("div",F,[(r(!0),u(x,null,B(o.value,(a,t)=>(r(),u("div",{key:t,class:"flex items-center gap-2 group"},[s("div",G,[s("button",{type:"button",class:"p-0.5 hover:bg-muted rounded disabled:opacity-30",disabled:t===0,onClick:n=>v(t,t-1)},[...e[2]||(e[2]=[s("svg",{class:"h-3 w-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 15l7-7 7 7"})],-1)])],8,P),s("button",{type:"button",class:"p-0.5 hover:bg-muted rounded disabled:opacity-30",disabled:t===o.value.length-1,onClick:n=>v(t,t+1)},[...e[3]||(e[3]=[s("svg",{class:"h-3 w-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"})],-1)])],8,S)]),s("span",H,f(t+1),1),s("div",L,[d(w,{"model-value":a,"onUpdate:modelValue":n=>M(t,n),label:""},null,8,["model-value","onUpdate:modelValue"])]),d(i(h),{type:"button",variant:"ghost",size:"icon",class:"h-8 w-8 text-muted-foreground hover:text-destructive",onClick:n=>y(t)},{default:c(()=>[d(i(V),{class:"h-4 w-4"})]),_:1},8,["onClick"])]))),128))])):(r(),u("div",q,[(r(!0),u(x,null,B(o.value,(a,t)=>(r(),u("div",{key:t,class:"border rounded-lg p-4 bg-card"},[s("div",J,[s("div",K,[s("div",O,[s("button",{type:"button",class:"p-0.5 hover:bg-muted rounded disabled:opacity-30",disabled:t===0,onClick:n=>v(t,t-1)},[...e[4]||(e[4]=[s("svg",{class:"h-3 w-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 15l7-7 7 7"})],-1)])],8,Q),s("button",{type:"button",class:"p-0.5 hover:bg-muted rounded disabled:opacity-30",disabled:t===o.value.length-1,onClick:n=>v(t,t+1)},[...e[5]||(e[5]=[s("svg",{class:"h-3 w-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"})],-1)])],8,R)]),s("span",W,"Imagen #"+f(t+1),1)]),d(i(h),{type:"button",variant:"ghost",size:"icon",class:"h-8 w-8 text-muted-foreground hover:text-destructive",onClick:n=>y(t)},{default:c(()=>[d(i(V),{class:"h-4 w-4"})]),_:1},8,["onClick"])]),s("div",X,[s("div",null,[d(w,{"model-value":a.image,"onUpdate:modelValue":n=>_(t,"image",n),label:"Imagen"},null,8,["model-value","onUpdate:modelValue"])]),s("div",Y,[s("div",Z,[d(i(b),{class:"text-sm"},{default:c(()=>[...e[6]||(e[6]=[g("Título (opcional)",-1)])]),_:1}),d(i(C),{"model-value":a.title||"","onUpdate:modelValue":n=>_(t,"title",n),placeholder:"Título de la imagen"},null,8,["model-value","onUpdate:modelValue"])]),s("div",ee,[d(i(b),{class:"text-sm"},{default:c(()=>[...e[7]||(e[7]=[g("Descripción (opcional)",-1)])]),_:1}),d(i(C),{"model-value":a.description||"","onUpdate:modelValue":n=>_(t,"description",n),placeholder:"Breve descripción"},null,8,["model-value","onUpdate:modelValue"])])])])]))),128))])),s("p",te,f(o.value.length)+" imagen(es) en la galería ",1)]))}});export{re as _};
